<!DOCTYPE html>
<html>

<head>
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="1033122014113-nmn7sg2q0kck17unmeui744abu9lui1l.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <title>Google-Sign-In</title>
</head>

<body>

    <div class="container">

        <!-- <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div> -->

        <div class="row justify-content-md-center">
            <div class="col-sm-6 d-flex flex-column min-vh-100 justify-content-center align-items-center" style="width: 18rem;">
                <h4 class="">SIGN IN WITH GOOLE</h4>
                <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
                <a class="my-2" href="#" onclick="signOut();">Sign out</a>
            </div>
        </div>
    </div>

    <script>
        function onSignIn(googleUser) {
            let profile = googleUser.getBasicProfile();
            console.log(googleUser.xc.id_token);
            localStorage.setItem("token", googleUser.xc.id_token);
            return googleUser.xc.id_token
        }



        function signOut() {
            var auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function() {
                localStorage.removeItem("token")
                console.log('User signed out.');
            });
        }
    </script>

</body>

</html>